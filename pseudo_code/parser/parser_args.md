# parser_args.c 疑似コード

## 関数: count_args
- **引数**:
  - `tokens`: トークンリスト
- **処理**:
  1. パイプまたはリスト末尾までループする:
     - トークンが `TOKEN_WORD` ならカウントを増やす。
     - トークンがリダイレクトなら、次のトークン（ファイル名）もスキップする。
     - 次のトークンへ進む。
  2. カウントを返す。

## 関数: process_arg_token
- **引数**:
  - `tokens`: トークンリストへのポインタ
  - `args`: 引数配列
  - `quotes`: クォートタイプ配列
  - `i`: 現在の引数インデックスへのポインタ
- **処理**:
  1. トークンが `TOKEN_WORD` の場合:
     - 値を複製して `args[*i]` に格納する。
     - クォートタイプを `quotes[*i]` に格納する。
     - インデックス `*i` をインクリメントする。
     - トークンを進める。
  2. トークンがリダイレクトの場合:
     - トークンを2つ進める（リダイレクト記号とファイル名）。
  3. その他の場合:
     - トークンを進める。

## 関数: parse_args
- **引数**:
  - `tokens`: トークンリストへのポインタ
  - `quote_types`: クォートタイプ配列へのポインタ
- **処理**:
  1. `count_args` で引数の数を数える。
  2. 引数配列 `args` とクォートタイプ配列 `quotes` のメモリを確保する。
  3. パイプまたはリスト末尾までループする:
     - `process_arg_token` を呼び出し、トークンを処理して配列に格納する。
  4. 配列の最後に `NULL` (args) と `0` (quotes) を設定する。
  5. `quote_types` に `quotes` を設定する。
  6. `args` を返す。
