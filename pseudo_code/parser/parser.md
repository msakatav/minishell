# parser.c 疑似コード

## 関数: parse_redirections
- **引数**:
  - `tokens`: トークンリストへのポインタ
- **処理**:
  1. リダイレクトリスト `redirs` を `NULL` に初期化する。
  2. パイプまたはリスト末尾までループする:
     - トークンがリダイレクトの場合:
       - リダイレクトの種類を保存する。
       - トークンを進める。
       - 次のトークンが `TOKEN_WORD` なら:
         - `new_redir` で新しいリダイレクトノードを作成する。
         - `add_redir` でリストに追加する。
         - トークンを進める。
     - その他の場合、トークンを進める。
  3. `redirs` を返す。

## 関数: parse_command
- **引数**:
  - `tokens`: トークンリストへのポインタ
- **処理**:
  1. `new_cmd` で新しいコマンド構造体を作成する。
  2. トークンの開始位置を保存する。
  3. `parse_redirections` を呼び出し、リダイレクトを解析して格納する。
  4. トークン位置を元に戻す。
  5. `parse_args` を呼び出し、引数を解析して格納する。
  6. トークンポインタを更新する。
  7. コマンド構造体を返す。

## 関数: parser
- **引数**:
  - `tokens`: トークンリスト
- **処理**:
  1. コマンドリスト `cmds` を `NULL` に初期化する。
  2. トークンリストがある間ループする:
     - `parse_command` を呼び出し、コマンドを解析する。
     - 解析されたコマンドを `add_cmd` でリストに追加する。
     - 現在のトークンがパイプなら、次のトークンへ進む。
  3. コマンドリストを返す。
