# find_executable.c 疑似コード

## 関数: try_path
- **引数**:
  - `dir`: ディレクトリパス
  - `cmd`: コマンド名
- **戻り値**:
  - 成功時: 実行可能なフルパス
  - 失敗時: `NULL`
- **処理**:
  1. `dir` と `/` を結合する。
  2. さらに `cmd` を結合して完全なパスを作成する。
  3. パスが実行可能 (`access(path, X_OK) == 0`) であれば、そのパスを返す。
  4. そうでなければ、メモリを解放して `NULL` を返す。

## 関数: search_in_paths
- **引数**:
  - `paths`: パスの配列
  - `cmd`: コマンド名
- **戻り値**:
  - 成功時: 実行可能なフルパス
  - 失敗時: `NULL`
- **処理**:
  1. `paths` の各ディレクトリについてループする:
     - `try_path` を呼び出し、コマンドのパスを生成して確認する。
     - 見つかった場合、そのパスを返す。
  2. 見つからなかった場合、`NULL` を返す。

## 関数: check_absolute_path
- **引数**:
  - `cmd`: コマンドパス
- **戻り値**:
  - 成功時: コマンドパスの複製
  - 失敗時: `NULL`
- **処理**:
  1. ファイルが存在する場合 (`access(cmd, F_OK) == 0`)、`cmd` の複製を返す。
  2. 存在しない場合、`NULL` を返す。

## 関数: check_relative_path
- **引数**:
  - `cmd`: コマンド名
- **戻り値**:
  - 成功時: `./` 付きの実行可能なパス
  - 失敗時: `NULL`
- **処理**:
  1. `./` と `cmd` を結合してパスを作成する。
  2. パスが実行可能 (`access(result, X_OK) == 0`) であれば、そのパスを返す。
  3. そうでなければ、メモリを解放して `NULL` を返す。

## 関数: find_executable
- **引数**:
  - `cmd`: コマンド名
  - `env`: 環境変数リスト
- **戻り値**:
  - 成功時: 実行可能なフルパス
  - 失敗時: `NULL`
- **処理**:
  1. `cmd` が `NULL` または空文字の場合、`NULL` を返す。
  2. `cmd` に `/` が含まれる場合 (絶対パスまたは相対パス):
     - `check_absolute_path` を呼び出して結果を返す。
  3. 環境変数 `PATH` の値を取得する。
     - 取得できない場合:
       - `check_relative_path` を呼び出して結果を返す。
  4. `PATH` を `:` で分割してパスの配列 `paths` を作成する。
  5. `search_in_paths` を呼び出し、パスを検索する。
  6. `paths` を解放する。
  7. 検索結果を返す。
