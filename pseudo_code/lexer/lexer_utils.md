# lexer_utils.c 疑似コード

## 関数: is_separator
- **概要**:
  - 文字が区切り文字（空白、パイプ、リダイレクト）かどうかを判定する。
- **引数**:
  - `c`: 文字
- **処理**:
  1. 文字が空白、パイプ、リダイレクトのいずれかであれば真を返す。

## 関数: handle_quotes
- **概要**:
  - クォートで囲まれた文字列を抽出する。
- **引数**:
  - `input`: 入力文字列
  - `i`: 現在のインデックスへのポインタ
  - `quote_char`: クォート文字 (' または ")
- **戻り値**:
  - 成功時: クォートの中身の文字列
  - 失敗時: `NULL` (閉じクォートがない場合)
- **処理**:
  1. 開始位置 `start` を保存し、インデックスをインクリメントする。
  2. 閉じクォートが見つかるまでインデックスを進める。
  3. 閉じクォートが見つかった場合:
     - クォートの中身を部分文字列として抽出する。
     - インデックスをインクリメントする。
     - 抽出した文字列を返す。
  4. 閉じクォートが見つからなかった場合:
     - エラーメッセージ "minishell: syntax error: unclosed quote" を出力する。
     - `NULL` を返す。

## 関数: handle_word
- **概要**:
  - 区切り文字やクォートが現れるまでの通常の単語部分を抽出する。
- **引数**:
  - `input`: 入力文字列
  - `i`: 現在のインデックスへのポインタ
- **処理**:
  1. 開始位置 `start` を保存する。
  2. 空白、パイプ、リダイレクト、クォート以外の文字が続く間、インデックスを進める。
  3. 抽出した部分文字列を返す。

## 関数: add_redir_token
- **概要**:
  - リダイレクトトークンを作成してリストに追加し、インデックスを進める。
- **引数**:
  - `tokens`: トークンリストへのポインタ
  - `type`: トークンの種類
  - `val`: トークンの値
  - `i`: 現在のインデックスへのポインタ
- **処理**:
  1. 新しいトークンを作成し、リストに追加する。
  2. `HEREDOC` または `APPEND` の場合はインデックスを2進める。
  3. それ以外の場合はインデックスを1進める。

## 関数: handle_redirect
- **概要**:
  - リダイレクトの種類（入力、出力、追記、ヒアドキュメント）を判定し、トークンを追加する。
- **引数**:
  - `input`: 入力文字列
  - `i`: 現在のインデックスへのポインタ
  - `tokens`: トークンリストへのポインタ
- **処理**:
  1. `<` の場合:
     - 次の文字も `<` なら `add_redir_token` で `<<` (HEREDOC) を追加。
     - そうでなければ `add_redir_token` で `<` (REDIR_IN) を追加。
  2. `>` の場合:
     - 次の文字も `>` なら `add_redir_token` で `>>` (REDIR_APPEND) を追加。
     - そうでなければ `add_redir_token` で `>` (REDIR_OUT) を追加。
