# builtin_exit.c 疑似コード

## 関数: is_numeric
- **概要**:
  - 文字列が数値として有効かどうかを判定する。
- **引数**:
  - `str`: チェックする文字列
- **処理**:
  1. 先頭の空白をスキップする。
  2. 符号 (`+` または `-`) があればスキップする。
  3. 文字列が空になった場合、`0` を返す。
  4. 数字が続く間ループする。
  5. 末尾の空白をスキップする。
  6. まだ文字が残っていれば `0` を返す。
  7. 最後まで到達すれば `1` を返す。

## 関数: check_overflow
- **概要**:
  - 数値文字列が `long long` の範囲を超えていないかチェックする。
- **引数**:
  - `str`: チェックする文字列
- **処理**:
  1. 先頭の空白と符号を処理し、符号 (`sign`) を記録する。
  2. 数字を読み込みながら値を計算する。
  3. オーバーフローが発生するかチェックする (`LONG_MAX` / `LONG_MIN` 相当の閾値と比較)。
  4. オーバーフローする場合、`1` を返す。
  5. しない場合、`0` を返す。

## 関数: builtin_exit
- **概要**:
  - シェルを終了する。引数がある場合は終了ステータスを設定する。
- **引数**:
  - `args`: コマンド引数の配列
  - `data`: シェルの主要データ構造体
- **処理**:
  1. 標準エラー出力に "exit" を出力する。
  2. 引数がない場合 (`!args[1]`):
     - `cleanup_data(data)` を呼び出し、リソースを解放する。
     - `rl_clear_history()` を呼び出す。
     - 現在の `data->exit_status` で終了 (`exit`) する。
  3. 第1引数が数値でない、またはオーバーフローする場合 (`!is_numeric` または `check_overflow`):
     - エラーメッセージ "numeric argument required" を出力する。
     - `cleanup_data(data)` を呼び出し、リソースを解放する。
     - `rl_clear_history()` を呼び出す。
     - ステータス `2` で終了 (`exit`) する。
  4. 引数が2つ以上ある場合 (`args[2]` が存在):
     - エラーメッセージ "too many arguments" を出力する。
     - `1` を返す (終了しない)。
  5. 第1引数を数値に変換 (`ft_atoi`) し、`exit_code` とする。
  6. `cleanup_data(data)` を呼び出し、リソースを解放する。
  7. `rl_clear_history()` を呼び出す。
  8. `exit_code` を 256 で割った余りで終了 (`exit`) する。
